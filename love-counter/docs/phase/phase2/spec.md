# Phase 2: デザイン改善 - 詳細仕様

> **フェーズ2の目標**: Apple風の洗練されたデザインとSVGりんごボタンの実装

**[← 仕様書トップに戻る](../../spec.md)**

---

## 🎨 デザインコンセプト

**詳細**: [DESIGN.md](../../DESIGN.md) を参照

### デザイン目標
- Apple-likeな洗練されたデザイン
- 大人可愛い印象
- 控えめで上品なアニメーション
- 視線をメッセージに集中させるレイアウト

---

## 🎨 カラーパレット

**CSS変数** (`index.html`):

| 変数名 | 色コード | 用途 |
|--------|---------|------|
| `--bg-beige` | `#F5EFE7` | 背景色 |
| `--white` | `#FFFFFF` | カード背景 |
| `--white-soft` | `#FFF5F0` | りんご内テキスト |
| `--apple-red` | `#D46A6A` | りんご本体 |
| `--apple-red-hover` | `#C15D5D` | ホバー時 |
| `--soft-red` | `#E8B4B8` | ボーダー・アクセント |
| `--text-primary` | `#6B5B4F` | メインテキスト |
| `--text-secondary` | `#7A6650` | サブテキスト・茎 |

**特徴**:
- 彩度を抑えた落ち着いた配色
- 温かみのある白（`#FFF5F0`）
- Apple風の控えめな色使い

---

## 🍎 SVGボタン仕様

### りんごの形状

**構成要素**:
- りんご本体（左右対称、x=50が中心軸）
- 茎（上部）
- 根本の軸（曲線）
- テキスト「YES」（中央配置）

**SVGコード例**:
```svg
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <!-- りんご本体 -->
  <path class="apple-body" d="
    M 50,25
    C 30,25 20,35 20,50
    C 20,65 26,81 45,81
    C 50,81 50,81 55,81
    C 72,81 80,65 80,50
    C 80,35 70,25 50,25 Z
  " />

  <!-- 茎 -->
  <path class="stem" d="M 50,10 L 50,25" />

  <!-- テキスト -->
  <text x="50" y="55" class="apple-text">YES</text>
</svg>
```

**詳細調整**: [SVG調整ガイド](./SVG調整ガイド.md) を参照

---

## 📱 レスポンシブデザイン

### PC（デフォルト）
- カード幅: max-width 340px
- ボタンサイズ: 150x150px
- フォントサイズ: 22px（トリガー）、18px（メッセージ）
- 余白: ゆとりのあるスペース

### スマホ（max-width: 480px）
- カード幅: 100%（画面いっぱい）
- ボタンサイズ: 140x140px
- フォントサイズ: 20px（トリガー）、19px（メッセージ）
- タップハイライト無効化（`-webkit-tap-highlight-color: transparent;`）
- 余白調整（コンパクトに）

### 小画面（max-width: 360px）
- ボタンサイズ: 120x120px
- フォントサイズ: 16px（メッセージ）
- さらに余白を縮小

**実装場所**: `index.html` - メディアクエリ

---

## ✨ アニメーション仕様

### ホバーアニメーション（PC）

```css
#mainButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(212, 106, 106, 0.3);
}
```

**特徴**:
- 控えめな浮き上がり（-2px）
- 影の強調
- スムーズなトランジション（0.3s）

### アクティブアニメーション（クリック時）

```css
#mainButton:active {
  transform: scale(0.95);
}
```

**特徴**:
- 押し込まれる感覚（scale 0.95）
- 瞬時に反応

### キラキラアニメーション（特別メッセージ）

```css
@keyframes sparkle {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 10px rgba(212, 106, 106, 0.5);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(212, 106, 106, 0.8);
  }
}
```

**特徴**:
- 1.5秒ループ
- スケール変化（1.0 → 1.05 → 1.0）
- 影の強調

---

## 📐 レイアウト改善

### フェーズ2での主な変更

#### 1. 余白の最適化
- カード上部padding: 32px → 24px
- メッセージに視線を集中させるため

#### 2. フォント階層の最適化
- メッセージフォントサイズ: 17px → 18px
- メッセージフォントウェイト: 500 → 600
- より読みやすく、目立つように

#### 3. シャドウの調整
- カードシャドウ: 控えめに（`0 2px 8px rgba(0,0,0,0.1)`）
- ボタンシャドウ: 控えめに
- Apple風の繊細な影

---

## 🔧 CSS変数の活用

### メリット
- 一元管理で保守性向上
- デザインの一貫性確保
- 変更が容易

### 実装例

```css
:root {
  /* カラーパレット */
  --bg-beige: #F5EFE7;
  --white: #FFFFFF;
  --apple-red: #D46A6A;

  /* スペーシング */
  --card-padding: 24px;
  --button-size: 150px;
}

.card {
  background: var(--white);
  padding: var(--card-padding);
}
```

---

## 📚 学習ポイント

### SVG
- **SVGパスの左右対称ロジック**
  - 中心軸（x=50）を基準にした対称性の計算
  - `右側x = 100 - 左側x` の公式
  - 制御点のy座標も揃える必要がある

- **SVG曲線の滑らかさ調整**
  - 制御点の位置でカーブの形が変わる
  - 制御点を外側に移動→カーブが緩やかに
  - 制御点を下に移動→下に膨らむ

### CSS
- **CSS変数によるカラー管理**
  - 一元管理で保守性向上
  - デザインの一貫性確保
  - 変更が容易

- **Apple風デザインの原則**
  - 控えめなシャドウ（`0 2px 8px`程度）
  - 繊細なアニメーション（`translateY(-2px)`程度）
  - 余白を活かしたレイアウト
  - 彩度を抑えた配色

### レスポンシブデザイン
- メディアクエリの使い方
- モバイルファースト vs デスクトップファースト
- タップハイライトの無効化

---

## 🔗 関連ドキュメント

- [デザインコンセプト](../../DESIGN.md) - Apple風デザインの詳細
- [SVG調整ガイド](./SVG調整ガイド.md) - りんごボタンのカスタマイズ方法
- [Phase 1 詳細仕様](../phase1/spec.md) - 基本機能の詳細
- [Phase 3 詳細仕様](../phase3/spec.md) - LINE連携機能の詳細

---

**[← 仕様書トップに戻る](../../spec.md)**
