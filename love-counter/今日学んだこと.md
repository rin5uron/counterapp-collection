# 今日学んだこと

## 1. innerHTMLで改行を有効にする

### 問題
`textContent`を使うと、HTMLタグ（`<br>`など）が文字列としてそのまま表示されてしまう。

### 解決方法
`innerHTML`を使うことで、HTMLタグを解釈して改行が有効になる。

```javascript
// ❌ 改行されない
mainButton.textContent = "私のこと思い出したら<br>このボタン押してね？";
// 表示: 私のこと思い出したら<br>このボタン押してね？

// ✅ 改行される
mainButton.innerHTML = "私のこと思い出したら<br>このボタン押してね？";
// 表示: 私のこと思い出したら
//      このボタン押してね？
```

### 注意点
- ボタン要素で改行を有効にするには、CSSに`white-space: normal;`を追加する必要がある
- `innerHTML`はHTMLタグを解釈するので、ユーザー入力を直接入れる場合はセキュリティに注意

---

## 2. disabledプロパティでボタンを無効化

### 概要
`disabled`プロパティを使うと、ボタンをクリックできなくする（無効化する）ことができる。

### 使い方
```javascript
// ボタンを無効化
mainButton.disabled = true;

// ボタンを有効化
mainButton.disabled = false;
```

### 実際の使用例
22回目のメッセージ表示時に、ボタンを2.5秒間無効化する：

```javascript
if (count % 22 === 0 && count !== 0) {
  // ボタンを一時的に無効化
  mainButton.disabled = true;
  mainButton.style.opacity = "0.5";        // 見た目を薄くする
  mainButton.style.cursor = "not-allowed"; // カーソルを変更

  // 2.5秒後にボタンを再び有効化
  setTimeout(function() {
    mainButton.disabled = false;
    mainButton.style.opacity = "1";
    mainButton.style.cursor = "pointer";
  }, 2500);
}
```

---

## 3. Math.random()でランダム表示 - なぜarrayを引数にするのか？

### 関数の定義
```javascript
function getRandomIndex(array) {
  return Math.floor(Math.random() * array.length);
}
```

### なぜarrayを引数にするのか？

#### 理由1: 関数の再利用性
`array`を引数にすることで、**どんな配列でも**この関数を使えるようになる。

```javascript
// triggers1配列で使う
mainButton.innerHTML = triggers1[getRandomIndex(triggers1)];

// messages1配列で使う
message.innerHTML = messages1[getRandomIndex(messages1)];
```

もし引数を使わずに書くと...

```javascript
// ❌ triggers1専用の関数
function getRandomIndexForTriggers() {
  return Math.floor(Math.random() * triggers1.length);
}

// ❌ messages1専用の関数
function getRandomIndexForMessages() {
  return Math.floor(Math.random() * messages1.length);
}
```

同じようなコードを何度も書く必要がある！

#### 理由2: 配列の長さが変わっても対応できる
`array.length`を使うことで、配列の要素数が変わっても自動的に対応できる。

```javascript
// messages1が26個でも50個でも100個でも動く
message.innerHTML = messages1[getRandomIndex(messages1)];
```

#### 理由3: テストしやすい
引数を渡すことで、どんなデータでもテストできる。

```javascript
// テスト用の小さい配列で試せる
const testArray = ["A", "B", "C"];
console.log(getRandomIndex(testArray)); // 0, 1, 2 のどれか
```

### Math.random()の仕組み

```javascript
Math.random()  // 0以上1未満のランダムな小数 (例: 0.7234)
Math.random() * array.length  // 配列の長さを掛ける (例: 0.7234 * 50 = 36.17)
Math.floor(...)  // 小数点以下を切り捨て (例: 36)
```

**例:** 配列が50個の場合
- `Math.random()`が0.7234だとすると
- `0.7234 * 50 = 36.17`
- `Math.floor(36.17) = 36`
- → `array[36]`が選ばれる

---

## まとめ

1. **innerHTML** = HTMLタグを解釈して改行できる
2. **disabled** = ボタンを無効化/有効化できる
3. **引数を使う理由** = 同じ関数を色々な配列で再利用できるから便利！
