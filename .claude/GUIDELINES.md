# プロジェクトガイドライン

このファイルには、プロジェクトの開発ルールやドキュメント管理のガイドラインをまとめています。

---

## 💬 コミュニケーションガイドライン

### 呼び方のルール
- **「りんさん」と呼ばない**
- 名前を使わずに会話する
- 必要に応じて「あなた」を使う、または主語を省略する

---

## 📝 ドキュメント管理ルール

### 学習ノート (`love-counter/学習ノート.md`)

#### 更新順序
- **新しい日付を上に追加**
- 最新の学習内容が一番上に来るようにする

#### フォーマット

```markdown
# 学習ノート

## 📚 目次
- [最新の日付] - タイトル
- [古い日付] - タイトル

---

## YYYY/MM/DD - タイトル
### 学んだ内容
...

---

## YYYY/MM/DD - タイトル
### 学んだ内容
...
```

#### 日付フォーマット
- `YYYY/MM/DD` 形式（例: 2025/12/5）
- 見出しレベルは `##`

#### 目次の作成
- 各日付ごとにアンカーリンクを作成
- 最新の日付が一番上

---

## 🌿 ブランチ管理

### ブランチ戦略

```
main          ← ドキュメントのみ（最新の安定版）
├─ phase1     ← フェーズ1の完成版（基本機能）
├─ phase2     ← フェーズ2の完成版（デザイン改善）
├─ phase3     ← フェーズ3の完成版（LINE連携）
└─ phase4     ← フェーズ4の開発中（liff.sendMessages対応）
```

### ⚠️ 重要：ブランチ使い分けルール

**絶対に守ること：**

1. **ドキュメントの変更 → `main`ブランチ**
   - `love-counter/docs/` 配下のすべてのファイル
   - `love-counter/readme.md`
   - `PROJECT_PHASES.md`
   - その他の `.md` ファイル

2. **コードの変更 → 各フェーズのブランチ**
   - `love-counter/index.html`
   - `love-counter/script.js`
   - `love-counter/api/` 配下のファイル
   - その他の実行ファイル

3. **プッシュ前に必ず確認を取る**
   - どのブランチにいるか確認
   - 何を変更したか確認
   - ユーザーに許可を求める

### フェーズごとのブランチ作成ルール

1. フェーズが完了したら、その時点で新しいブランチを作成
2. ブランチ名: `phase1`, `phase2`, `phase3` など
3. メインブランチ（`main`）にはドキュメントの最新版を保持

---

## 📦 コミットメッセージ

### フォーマット

```
[種類]: 変更内容の要約

- 詳細な変更点1
- 詳細な変更点2

🤖 Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

### 種類の例
- `feat`: 新機能追加
- `fix`: バグ修正
- `style`: デザイン変更
- `docs`: ドキュメント追加・修正
- `refactor`: コードのリファクタリング
- `chore`: その他の変更

---

## ⚠️ 変更時の重要ルール

### 変更前の確認事項

**すべての変更は事前に許可を取ること**

1. **変更を提案する前に**
   - 変更内容を明確に説明する
   - 変更する理由を説明する
   - ユーザーの許可を得る

2. **変更してはいけないこと（許可なし）**
   - デザイン（色、フォント、レイアウト）
   - 機能の追加・削除
   - コードの構造変更
   - ファイルの作成・削除

3. **許可の取り方**
   ```
   ❌ 悪い例: 「〇〇を変更します」→ すぐに変更
   ✅ 良い例: 「〇〇を△△に変更したいです。理由は××です。よろしいですか？」→ 許可を待つ
   ```

### 例外
- このGUIDELINES.mdに明示的に記載されている指示は許可なしで実行可能
- ユーザーから「自由に変更して」と明示的に指示された場合のみ

---

## 🎨 コーディング規約

### JavaScript

- 変数名: キャメルケース（`myVariable`）
- 定数: キャメルケース（`const maxCount = 100`）
- 関数名: キャメルケース（`getRandomIndex`）
- インデント: スペース2個

### CSS

- クラス名: ケバブケース（`my-class-name`）
- ID名: キャメルケース（`mainButton`）
- インデント: スペース2個

### HTML

- インデント: スペース2個
- 属性値: ダブルクォート使用

---

## 📁 ファイル構成

```
counterapp-collection/
├── .claude/                    # Claude Code設定
│   ├── settings.local.json    # ローカル設定
│   └── GUIDELINES.md          # このファイル
├── love-counter/              # メインプロジェクト
│   ├── index.html             # HTMLファイル
│   ├── script.js              # JavaScriptファイル
│   ├── readme.md              # プロジェクト説明
│   └── 学習ノート.md           # 学習記録
├── PROJECT_PHASES.md          # フェーズ計画
└── README.md                  # リポジトリ全体の説明
```

---

## 🔄 開発フロー

### 1. ドキュメント更新の場合

```bash
# mainブランチにいることを確認
git branch  # * main であることを確認

# ドキュメントを編集
# 例: love-counter/docs/spec.md

# コミット（プッシュ前に必ず確認を取る）
git add love-counter/docs/spec.md
git commit -m "docs: 仕様書更新"
# ⚠️ ここでユーザーに確認を取る
```

### 2. コード変更の場合（フェーズ開発）

```bash
# フェーズブランチに切り替え（または作成）
git checkout phase4  # 既存の場合
# または
git checkout -b phase4  # 新規作成の場合

# コードを編集
# 例: love-counter/script.js

# コミット（プッシュ前に必ず確認を取る）
git add love-counter/script.js
git commit -m "feat: 新機能追加"
# ⚠️ ここでユーザーに確認を取る
```

### 3. 作業の流れチェックリスト

**変更前:**
- [ ] どのブランチで作業すべきか確認（ドキュメント=main、コード=phaseX）
- [ ] 正しいブランチにいるか確認（`git branch`）

**変更後:**
- [ ] 何を変更したか確認（`git status`, `git diff`）
- [ ] 正しいブランチで変更したか確認
- [ ] **ユーザーに許可を求める**（プッシュ前）

### 4. フェーズ完了時

1. フェーズブランチですべての変更をコミット
2. mainブランチで `PROJECT_PHASES.md` を更新
3. フェーズブランチをマージ（ユーザーの指示に従う）

---

## 🎯 開発の優先順位

### フェーズ1（完了✅）
- 基本機能の実装

### フェーズ2（進行中）
- SVGデザインでリンゴボタン作成
- UI/UXの改善

### フェーズ3（予定）
- LINE連携機能

---

## 📚 参考リソース

- [MDN Web Docs](https://developer.mozilla.org/) - Web技術のリファレンス
- [JavaScript.info](https://javascript.info/) - JavaScriptの学習
- [SVG Tutorial](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial) - SVGの学習

---

**最終更新: 2025/12/13**
